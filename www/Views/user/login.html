<div class="mx-3 mt-4 py-2">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb bg-light">
            <li class="breadcrumb-item"><a class="home-route">Home</a></li>
            <li class="login-show breadcrumb-item active" aria-current="page">Inicio de sesión</li>
        </ol>
    </nav>
</div>

<div class="container my-3">
    <div class="d-flex flex-column align-items-center justify-content-center">
        <ol class="nav nav-pills bg-light justify-content-center mx-5" style="min-width: 300px;">
            <li class="nav-item py-2">
                <h2 class="cl-12 mt-2" style="font-weight: 900;">Inicio de sesión</h2>
            </li>
            <li class="nav-item py-2">
                <form class="px-4" id="login-form">

                    <div class="mb-3">
                        <label class="form-label">Usuario</label>
                        <input type="text" class="form-control bg-secondary" id="user-name">
                    </div>

                    <label for="user-password" class="form-label">Password</label>
                    <div class="input-group mb-3">
                        <input type="password" class="form-control" id="user-password" aria-label="Recipient's username"
                            aria-describedby="button-addon2">
                        <button class="btn-attr btn btn-info bg-info text-light" type="button" id="button-addon2"><i
                                class="btn-eye bi bi-eye" style="font-size: large;"></i></button>
                    </div>

                    <div class="d-flex align-items-center justify-content-center">
                        <button type="button" class="btn-login-form btn btn-info bg-info text-light my-2"
                            style="border-radius: 10px;">Iniciar sesión</button>
                    </div>

                </form>
            </li>
            <div class="text-center">
                <a class="link-a btn-register-back">Nuevo por aqui? <span class="sp-class">Registrate</span></a>
            </div>
        </ol>
    </div>
</div>

<script>
    $('.btn-register').show();
    $('.btn-login').hide();
    $('.dropdown-divider').hide();

    // Get the home-route class from the bread to go back home
    document.querySelector('.home-route').addEventListener('click', function () {
        loadPartialView('home/content', appRender);
        $('.btn-register').show();
        $('.btn-login').show();
        $('.dropdown-divider').show();

        $('.btn-search').show();
    });

    // Get the btn-register-bach to return to the register form
    document.querySelector('.btn-register-back').addEventListener('click', function () {
        loadPartialView('user/register', appRender);
    });

    $('.btn-attr').click(function () {
        if ($('#user-password').attr('type') === 'password') {
            $('#user-password').removeAttr('type').attr('type', 'text');
            $('.btn-eye').removeClass().addClass('btn-eye bi bi-eye-slash');
        } else {
            $('#user-password').removeAttr('type').attr('type', 'password');
            $('.btn-eye').removeClass().addClass('btn-eye bi bi-eye');
        }
    });

    $('.btn-login-form').on('click', function () {
        let userName = $('#user-name').val();
        let userPassword = $('#user-password').val();

        let formLogin = {
            user_name: userName,
            password: userPassword
        }

        userLogin(formLogin);
    });
</script>